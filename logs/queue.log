[2025-05-10T07:13:04.286Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:13:04.291Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:13:04.291Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:13:04.291Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:13:04.291Z] [INFO] Node Environment: development
[2025-05-10T07:13:04.291Z] [INFO] Hostname: 2c58d835dcb6
[2025-05-10T07:13:04.291Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:13:04.291Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:13:04.291Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:13:04.291Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:13:04.292Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:13:04.292Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:13:04.355Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:13:04.355Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:13:04.355Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:13:04.312Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:13:04.312Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:13:04.312Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:13:04.312Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:13:04.312Z] [INFO] Node Environment: development
[2025-05-10T07:13:04.312Z] [INFO] Hostname: 5d464273f745
[2025-05-10T07:13:04.313Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:13:04.313Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:13:04.313Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:13:04.313Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:13:04.314Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:13:04.314Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:13:04.371Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:13:04.371Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:13:04.371Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:13:04.332Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:13:04.332Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:13:04.332Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:13:04.332Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:13:04.332Z] [INFO] Node Environment: development
[2025-05-10T07:13:04.332Z] [INFO] Hostname: cf87bde0e2ab
[2025-05-10T07:13:04.333Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:13:04.333Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:13:04.333Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:13:04.333Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:13:04.334Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:13:04.334Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:13:04.390Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:13:04.391Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:13:04.391Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:13:04.351Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:13:04.352Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:13:04.352Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:13:04.352Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:13:04.352Z] [INFO] Node Environment: development
[2025-05-10T07:13:04.352Z] [INFO] Hostname: ec483dab3a69
[2025-05-10T07:13:04.353Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:13:04.353Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:13:04.353Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:13:04.353Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:13:04.354Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:13:04.354Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:13:04.397Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:13:04.397Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:13:04.397Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:13:04.475Z] [INFO] Redis client connected
[2025-05-10T07:13:04.476Z] [INFO] Redis subscriber connected
[2025-05-10T07:13:04.475Z] [INFO] Redis client ready
[2025-05-10T07:13:04.478Z] [INFO] Redis bclient connected
[2025-05-10T07:13:04.478Z] [INFO] Redis bclient ready
[2025-05-10T07:13:04.480Z] [INFO] Redis subscriber connected
[2025-05-10T07:13:04.481Z] [INFO] Redis subscriber ready
[2025-05-10T07:13:04.476Z] [INFO] Redis subscriber ready
[2025-05-10T07:13:04.480Z] [INFO] Redis bclient connected
[2025-05-10T07:13:04.480Z] [INFO] Redis bclient ready
[2025-05-10T07:13:04.482Z] [INFO] Redis client connected
[2025-05-10T07:13:04.482Z] [INFO] Redis client ready
[2025-05-10T07:13:04.490Z] [INFO] Redis client connected
[2025-05-10T07:13:04.490Z] [INFO] Redis client connected
[2025-05-10T07:13:04.491Z] [INFO] Redis client ready
[2025-05-10T07:13:04.495Z] [INFO] Redis bclient connected
[2025-05-10T07:13:04.496Z] [INFO] Redis bclient ready
[2025-05-10T07:13:04.500Z] [INFO] Redis subscriber connected
[2025-05-10T07:13:04.500Z] [INFO] Redis subscriber ready
[2025-05-10T07:13:04.502Z] [INFO] ✓ Redis client connected
[2025-05-10T07:13:04.513Z] [INFO] ✓ Redis client connected
[2025-05-10T07:13:04.515Z] [INFO] ✓ Redis client connected
[2025-05-10T07:13:04.490Z] [INFO] Redis client ready
[2025-05-10T07:13:04.503Z] [INFO] Redis bclient connected
[2025-05-10T07:13:04.504Z] [INFO] Redis bclient ready
[2025-05-10T07:13:04.516Z] [INFO] Redis subscriber connected
[2025-05-10T07:13:04.516Z] [INFO] Redis subscriber ready
[2025-05-10T07:13:04.518Z] [INFO] ✓ Redis client connected
[2025-05-10T07:13:04.543Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:13:04.543Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:13:04.543Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:13:04.544Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:13:04.557Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:13:04.557Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:13:04.557Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:13:04.557Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:13:04.557Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:13:04.557Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:13:04.557Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:13:04.557Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:13:04.559Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:13:04.559Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:13:04.559Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:13:04.559Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:13:04.615Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:13:04.615Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:13:04.615Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:13:04.633Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:13:04.634Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:13:04.635Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:13:04.635Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:13:04.634Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:13:04.634Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:13:04.648Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:13:04.650Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:13:04.650Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:13:04.698Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:13:04.698Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:13:04.698Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:13:04.722Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:13:04.713Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:13:04.722Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:13:04.722Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:13:04.713Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:13:04.714Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:13:04.737Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:13:04.740Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:13:04.740Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:13:04.783Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:13:04.805Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:13:04.806Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:13:04.820Z] [INFO] ✓ All queues operational
[2025-05-10T07:13:04.820Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:13:04.820Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:13:04.821Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:13:04.821Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:13:04.822Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:13:04.783Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:13:04.783Z] [INFO] ✓ All queues operational
[2025-05-10T07:13:04.783Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:13:04.783Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:13:04.787Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:13:04.787Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:13:04.789Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:13:04.824Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:13:04.824Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:13:04.824Z] [INFO] ✓ All queues operational
[2025-05-10T07:13:04.825Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:13:04.825Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:13:04.825Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:13:04.825Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:13:04.825Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:13:04.836Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:13:04.867Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:13:04.837Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:13:04.838Z] [INFO] ✓ All queues operational
[2025-05-10T07:13:04.838Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:13:04.838Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:13:04.838Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:13:04.838Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:13:04.840Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:13:04.867Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:13:04.867Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:13:04.867Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:13:04.868Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:13:04.871Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:13:04.872Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:13:04.880Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:13:04.919Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:13:04.880Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:13:04.880Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:13:04.880Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:13:04.881Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:13:04.881Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:13:04.882Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:13:04.919Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:13:04.919Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:13:04.919Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:13:04.919Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:13:04.934Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:13:04.940Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:13:04.985Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:13:04.986Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:13:04.986Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:13:04.986Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:13:04.986Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:13:05.001Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:13:05.003Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:13:05.723Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:13:05.750Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:13:05.815Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:13:05.818Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:13:05.831Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:13:05.834Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:13:05.839Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:13:05.840Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:13:05.852Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:13:05.854Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:13:05.854Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:13:05.854Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:13:05.855Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:13:05.903Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:13:05.903Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:13:05.903Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:13:05.903Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:13:05.903Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:13:05.904Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:13:05.905Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:13:05.905Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:13:06.379Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:13:06.380Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:13:06.404Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:13:06.409Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:13:06.409Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:13:06.409Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:13:06.409Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:13:06.463Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:13:06.463Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:13:06.464Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:13:06.464Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:13:06.464Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:13:06.464Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:13:06.465Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:13:06.465Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:13:06.539Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:13:06.543Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:13:06.549Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:13:06.551Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:13:06.556Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:13:06.561Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:13:06.564Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:13:06.564Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:13:06.564Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:13:06.564Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:13:06.574Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:13:06.576Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:13:06.577Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:13:06.577Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:13:06.578Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:13:06.578Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:13:06.610Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:13:06.610Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:13:06.610Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:13:06.610Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:13:06.610Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:13:06.610Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:13:06.611Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:13:06.611Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:13:06.622Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:13:06.623Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:13:06.623Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:13:06.623Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:13:06.623Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:13:06.624Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:13:06.624Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:13:06.625Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:13:55.052Z] [INFO] 🏁 Job started processing: direct-contribution-cmahne9400003rczuj9f1fclj-1746861211742 (start-contribution) for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:55.054Z] [INFO] Processing contribution for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:55.056Z] [INFO] 
=== processContributionCycle started for group=cmahne9400003rczuj9f1fclj ===
[2025-05-10T07:13:55.057Z] [INFO] [contribution-cycles] Job direct-contribution-cmahne9400003rczuj9f1fclj-1746861211742 active
[2025-05-10T07:13:55.173Z] [INFO] 🔍 DEBUG: Member payment status BEFORE transaction:
[2025-05-10T07:13:55.173Z] [INFO] Member MoOn CaKe (cmahne95e0005rczubg4zz5td): hasBeenPaid=false
[2025-05-10T07:13:55.173Z] [INFO] Member SUHAYB WALTON (cmahnisrr000brczukc10gny4): hasBeenPaid=false
[2025-05-10T07:13:55.382Z] [INFO] Sending contribution reminders for 2 members
[2025-05-10T07:13:56.245Z] [ERROR] Failed to send contribution reminder: Error: socket hang up
[2025-05-10T07:13:56.245Z] [ERROR] Email error for support@hivepay.com.au: socket hang up
[2025-05-10T07:13:56.249Z] [ERROR] Failed to send contribution reminder: Error: socket hang up
[2025-05-10T07:13:56.249Z] [ERROR] Email error for suhaybw1@gmail.com: socket hang up
[2025-05-10T07:13:56.249Z] [INFO] Email sending process completed - continuing with contribution cycle
[2025-05-10T07:13:56.249Z] [INFO] Processing cycle 1: [object Object]
[2025-05-10T07:13:56.295Z] [INFO] Skipping payee: kp_588d4df4181549e791abd1eef41be8de
[2025-05-10T07:13:57.277Z] [INFO] PaymentIntent created for user kp_5813a23edaed4d4996418141e208cf59: pi_3RN7bcD0Tog7VW7O1vQiNzNE
[2025-05-10T07:13:57.426Z] [INFO] 🔍 CRITICAL: Marking member cmahne95e0005rczubg4zz5td (MoOn CaKe) as paid
[2025-05-10T07:13:57.567Z] [INFO] 🔍 Member cmahne95e0005rczubg4zz5td status: hasBeenPaid=true
[2025-05-10T07:13:57.568Z] [INFO] ✅ Successfully marked member cmahne95e0005rczubg4zz5td as paid
[2025-05-10T07:13:57.638Z] [INFO] 🔍 DEBUG: Member payment status AFTER transaction:
[2025-05-10T07:13:57.639Z] [INFO] Member MoOn CaKe (cmahne95e0005rczubg4zz5td): hasBeenPaid=true
[2025-05-10T07:13:57.639Z] [INFO] Member SUHAYB WALTON (cmahnisrr000brczukc10gny4): hasBeenPaid=false
[2025-05-10T07:13:57.639Z] [INFO] 🔍 DEBUG: Actual unpaid members count: 1
[2025-05-10T07:13:57.639Z] [INFO] === processContributionCycle success for group=cmahne9400003rczuj9f1fclj ===

[2025-05-10T07:13:57.749Z] [INFO] 🔍 Group state after transaction: cyclesCompleted=false, cycleStarted=true, status=Active, currentMemberCycle=0, totalCycles=0
[2025-05-10T07:13:57.749Z] [INFO] 🔍 Members remaining to be paid in this cycle: 1
[2025-05-10T07:13:57.749Z] [INFO] 🔍 Unpaid members: kp_5813a23edaed4d4996418141e208cf59
[2025-05-10T07:13:57.749Z] [INFO] 🔄 1 members still need payment in current cycle - preserving cycle date
[2025-05-10T07:13:57.749Z] [INFO] 🔍 Current cycle date: Fri May 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:13:57.749Z] [INFO] ✅ Scheduling next cycle for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:57.750Z] [INFO] 🔍 DEBUG: scheduleNextCycle called for group cmahne9400003rczuj9f1fclj (attempt: 0)
[2025-05-10T07:13:57.750Z] [INFO] 🔁 Attempting to schedule next cycle for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:57.853Z] [INFO] 🔍 DEBUG: Group state in scheduleNextCycle: [object Object]
[2025-05-10T07:13:57.854Z] [INFO] 🔍 DEBUG: Group cmahne9400003rczuj9f1fclj has 1 unpaid members remaining
[2025-05-10T07:13:57.854Z] [INFO] 🔄 Group cmahne9400003rczuj9f1fclj cycle in progress with 1 unpaid members remaining
[2025-05-10T07:13:57.854Z] [INFO] ✅ Validations passed, proceeding to schedule group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:57.855Z] [INFO] 🔍 DEBUG: scheduleContributionCycle called for group cmahne9400003rczuj9f1fclj (attempt: 0)
[2025-05-10T07:13:57.855Z] [INFO] 🔥 CRITICAL PATH: Scheduling contribution cycle for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:57.855Z] [INFO] 🔄 Starting schedule process for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:57.924Z] [INFO] 🔍 DEBUG: Group state from database: [object Object]
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Added group cmahne9400003rczuj9f1fclj to scheduledGroups set (size: 1)
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Calculating next run for group cmahne9400003rczuj9f1fclj with nextCycleDate: Fri May 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: calculateAndSetNextRun for group cmahne9400003rczuj9f1fclj with currentDate: Fri May 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Cycle already started: true
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Initial nextRun: Fri May 09 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Current time: Sat May 10 2025 07:13:57 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Is nextRun in the past? true
[2025-05-10T07:13:57.925Z] [INFO] ⏩ Setting immediate execution with buffer: 2025-05-10T07:14:27.925Z
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Final nextRun: Sat May 10 2025 07:14:27 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Initial delay: 30000
[2025-05-10T07:13:57.925Z] [INFO] 🔍 DEBUG: Safe delay: 30000
[2025-05-10T07:13:57.930Z] [INFO] ⏰ Scheduling next run for group cmahne9400003rczuj9f1fclj: [object Object]
[2025-05-10T07:13:57.980Z] [INFO] ✅ Logged scheduled job contribution-cmahne9400003rczuj9f1fclj-1746861237925-0 to database for recovery
[2025-05-10T07:13:57.981Z] [INFO] 🔍 DEBUG: addQueueJob called for group cmahne9400003rczuj9f1fclj with options: [object Object]
[2025-05-10T07:13:57.981Z] [INFO] 🔥 CRITICAL PATH: Queue job attempt for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:57.981Z] [INFO] 🔍 Redis URL in use: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:13:57.981Z] [INFO] 🔍 DEBUG: Contribution queue ready check: [object Object]
[2025-05-10T07:13:57.981Z] [INFO] 🔍 DEBUG: Getting existing jobs for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:13:58.054Z] [INFO] 🔍 DEBUG: Found 1 existing jobs in queue
[2025-05-10T07:13:58.055Z] [INFO] ⚠️ Removing existing job for group cmahne9400003rczuj9f1fclj: contribution-cmahne9400003rczuj9f1fclj-1746861211462-0
[2025-05-10T07:13:58.088Z] [INFO] ✅ Successfully removed job contribution-cmahne9400003rczuj9f1fclj-1746861211462-0
[2025-05-10T07:13:58.089Z] [INFO] 🚀 QUEUING: Adding job for group cmahne9400003rczuj9f1fclj with options: [object Object]
[2025-05-10T07:13:58.089Z] [INFO] Queue instance details: [object Object]
[2025-05-10T07:13:58.124Z] [INFO] ✅ Successfully queued job: [object Object]
[2025-05-10T07:13:58.124Z] [INFO] 🔍 DEBUG: Verifying job was added to queue
[2025-05-10T07:13:58.169Z] [INFO] 📊 Queue status after adding job: 1 total jobs
[2025-05-10T07:13:58.169Z] [INFO] ✓ Confirmed job contribution-start-contribution-cmahne9400003rczuj9f1fclj-1746861238089 is in queue with delay 30000ms
[2025-05-10T07:13:58.170Z] [INFO] 🔄 Setting up backup timer for group cmahne9400003rczuj9f1fclj (delay: 30000ms)
[2025-05-10T07:13:58.201Z] [INFO] [contribution-cycles] Job direct-contribution-cmahne9400003rczuj9f1fclj-1746861211742 completed
[2025-05-10T07:14:04.959Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:14:04.962Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:14:04.987Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:14:05.064Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:14:28.177Z] [INFO] ⏰ Backup timer triggered for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:14:28.256Z] [INFO] ✅ Job already completed via normal queue, backup not needed
[2025-05-10T07:14:37.935Z] [INFO] 🔄 Removed group cmahne9400003rczuj9f1fclj from scheduled set after timeout
[2025-05-10T07:15:04.942Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:15:04.943Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:15:04.987Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:15:05.038Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:16:04.939Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:16:04.948Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:16:04.991Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:16:05.056Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:17:04.944Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:17:04.949Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:17:04.978Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:17:05.059Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:18:04.960Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:18:04.968Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:18:04.987Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:18:05.071Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:18:05.934Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:18:05.935Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:18:06.501Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:18:06.505Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:18:06.659Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:18:06.659Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:18:06.662Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:18:06.663Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:19:05.922Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:19:05.929Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:19:05.929Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:19:05.940Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:20:04.983Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:20:04.986Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:20:05.008Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:20:05.075Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:21:04.994Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:21:05.001Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:21:05.017Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:21:05.073Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:21:15.950Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T07:21:15.950Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T07:21:15.950Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T07:21:15.951Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T07:21:15.952Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T07:21:15.951Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T07:21:16.613Z] [INFO] Redis bclient connected
[2025-05-10T07:21:16.617Z] [INFO] Redis bclient connected
[2025-05-10T07:21:16.613Z] [INFO] Redis bclient ready
[2025-05-10T07:21:16.614Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T07:21:16.617Z] [INFO] Redis bclient ready
[2025-05-10T07:21:16.617Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T07:21:16.623Z] [INFO] Redis bclient connected
[2025-05-10T07:21:16.623Z] [INFO] Redis bclient ready
[2025-05-10T07:21:16.624Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T07:21:16.635Z] [INFO] ✅ Redis connections closed
[2025-05-10T07:21:16.638Z] [INFO] ✅ Redis connections closed
[2025-05-10T07:21:16.643Z] [INFO] ✅ Redis connections closed
[2025-05-10T07:21:17.821Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T07:21:17.829Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T07:21:18.583Z] [INFO] Redis bclient connected
[2025-05-10T07:21:18.583Z] [INFO] Redis bclient ready
[2025-05-10T07:21:18.584Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T07:21:18.608Z] [INFO] ✅ Redis connections closed
[2025-05-10T07:44:46.166Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:44:46.168Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:44:46.169Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:44:46.169Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:44:46.169Z] [INFO] Node Environment: development
[2025-05-10T07:44:46.169Z] [INFO] Hostname: 82927580e999
[2025-05-10T07:44:46.175Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:44:46.175Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:44:46.175Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:44:46.176Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:44:46.190Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:44:46.190Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:44:46.630Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:44:46.631Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:44:46.631Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:44:46.230Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:44:46.231Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:44:46.231Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:44:46.241Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:44:46.242Z] [INFO] Node Environment: development
[2025-05-10T07:44:46.242Z] [INFO] Hostname: c8c8fdc89704
[2025-05-10T07:44:46.243Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:44:46.243Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:44:46.244Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:44:46.247Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:44:46.250Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:44:46.251Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:44:46.666Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:44:46.666Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:44:46.666Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:44:46.350Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:44:46.353Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:44:46.353Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:44:46.354Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:44:46.354Z] [INFO] Node Environment: development
[2025-05-10T07:44:46.354Z] [INFO] Hostname: 8a77882cf190
[2025-05-10T07:44:46.355Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:44:46.355Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:44:46.355Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:44:46.356Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:44:46.357Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:44:46.357Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:44:46.785Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:44:46.786Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:44:46.786Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:44:46.312Z] [INFO] 🚀 Queue worker starting with environment: [object Object]
[2025-05-10T07:44:46.313Z] [INFO] 📊 REDIS CONFIGURATION DETAILS:
[2025-05-10T07:44:46.313Z] [INFO] Redis URL: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:44:46.314Z] [INFO] Database URL: postgresql://****@ep-muddy-math-a71h11ow-pooler.ap-southeast-2.aws.neon.tech/neondb?sslmode=require
[2025-05-10T07:44:46.314Z] [INFO] Node Environment: development
[2025-05-10T07:44:46.314Z] [INFO] Hostname: 1f91988078a8
[2025-05-10T07:44:46.315Z] [INFO] 📊 Initializing metrics service
[2025-05-10T07:44:46.315Z] [INFO] 🔄 Starting queue worker initialization...
[2025-05-10T07:44:46.315Z] [INFO] 🔄 Verifying environment...
[2025-05-10T07:44:46.315Z] [INFO] 🔄 Verifying Redis connection...
[2025-05-10T07:44:46.317Z] [INFO] ✅ Queue runner loaded (TypeScript version)
[2025-05-10T07:44:46.317Z] [INFO] ✅ HivePay queue worker initialized
[2025-05-10T07:44:46.776Z] [INFO] ✅ Contribution queue connection verified
[2025-05-10T07:44:46.782Z] [INFO] ✅ Payment queue connection verified
[2025-05-10T07:44:46.782Z] [INFO] ✅ Group status queue connection verified
[2025-05-10T07:44:46.868Z] [INFO] Redis subscriber connected
[2025-05-10T07:44:46.890Z] [INFO] Redis client connected
[2025-05-10T07:44:46.871Z] [INFO] Redis subscriber ready
[2025-05-10T07:44:46.884Z] [INFO] Redis client connected
[2025-05-10T07:44:46.884Z] [INFO] Redis client ready
[2025-05-10T07:44:46.892Z] [INFO] Redis bclient connected
[2025-05-10T07:44:46.893Z] [INFO] Redis bclient ready
[2025-05-10T07:44:46.890Z] [INFO] Redis client ready
[2025-05-10T07:44:46.902Z] [INFO] Redis subscriber connected
[2025-05-10T07:44:46.902Z] [INFO] Redis subscriber ready
[2025-05-10T07:44:46.906Z] [INFO] Redis bclient connected
[2025-05-10T07:44:46.906Z] [INFO] Redis bclient ready
[2025-05-10T07:44:46.927Z] [INFO] Redis client connected
[2025-05-10T07:44:46.928Z] [INFO] Redis client ready
[2025-05-10T07:44:46.934Z] [INFO] Redis subscriber connected
[2025-05-10T07:44:46.936Z] [INFO] Redis subscriber ready
[2025-05-10T07:44:46.940Z] [INFO] Redis bclient connected
[2025-05-10T07:44:46.941Z] [INFO] Redis bclient ready
[2025-05-10T07:44:47.070Z] [INFO] ✓ Redis client connected
[2025-05-10T07:44:47.070Z] [INFO] Redis subscriber connected
[2025-05-10T07:44:47.071Z] [INFO] ✓ Redis client connected
[2025-05-10T07:44:47.080Z] [INFO] ✓ Redis client connected
[2025-05-10T07:44:47.070Z] [INFO] Redis subscriber ready
[2025-05-10T07:44:47.079Z] [INFO] Redis client connected
[2025-05-10T07:44:47.079Z] [INFO] Redis client ready
[2025-05-10T07:44:47.089Z] [INFO] Redis bclient connected
[2025-05-10T07:44:47.089Z] [INFO] Redis bclient ready
[2025-05-10T07:44:47.122Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:44:47.123Z] [INFO] ✓ Redis client connected
[2025-05-10T07:44:47.123Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:44:47.126Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:44:47.122Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:44:47.122Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:44:47.123Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:44:47.124Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:44:47.124Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:44:47.125Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:44:47.126Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:44:47.126Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:44:47.126Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:44:47.167Z] [INFO] ✅ Redis connection successful
[2025-05-10T07:44:47.168Z] [INFO] ✅ Using Upstash Redis - persistence is managed by the service
[2025-05-10T07:44:47.168Z] [INFO] 🔄 Initializing queues...
[2025-05-10T07:44:47.168Z] [INFO] Attempting to initialize Contribution queue...
[2025-05-10T07:44:47.202Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:44:47.202Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:44:47.202Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:44:47.204Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:44:47.204Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:44:47.204Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:44:47.204Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:44:47.205Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:44:47.205Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:44:47.247Z] [INFO] Contribution queue metrics: [object Object]
[2025-05-10T07:44:47.247Z] [INFO] ✓ Contribution queue ready
[2025-05-10T07:44:47.247Z] [INFO] Attempting to initialize Payment queue...
[2025-05-10T07:44:47.274Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:44:47.276Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:44:47.276Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:44:47.281Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:44:47.281Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:44:47.281Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:44:47.284Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:44:47.284Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:44:47.284Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:44:47.325Z] [INFO] Payment queue metrics: [object Object]
[2025-05-10T07:44:47.325Z] [INFO] ✓ Payment queue ready
[2025-05-10T07:44:47.325Z] [INFO] Attempting to initialize Group Status queue...
[2025-05-10T07:44:47.352Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:44:47.359Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:44:47.352Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:44:47.352Z] [INFO] ✓ All queues operational
[2025-05-10T07:44:47.352Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:44:47.353Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:44:47.359Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:44:47.359Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:44:47.359Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:44:47.362Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:44:47.362Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:44:47.362Z] [INFO] ✓ All queues operational
[2025-05-10T07:44:47.362Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:44:47.362Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:44:47.364Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:44:47.364Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:44:47.365Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:44:47.359Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:44:47.359Z] [INFO] ✓ All queues operational
[2025-05-10T07:44:47.359Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:44:47.359Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:44:47.365Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:44:47.365Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:44:47.373Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:44:47.406Z] [INFO] Group Status queue metrics: [object Object]
[2025-05-10T07:44:47.406Z] [INFO] ✓ Group Status queue ready
[2025-05-10T07:44:47.407Z] [INFO] ✓ All queues operational
[2025-05-10T07:44:47.407Z] [INFO] ✅ Queue add methods patched for unique job IDs
[2025-05-10T07:44:47.407Z] [INFO] 🔄 Configuring queue events...
[2025-05-10T07:44:47.408Z] [INFO] ✅ Queue event listeners configured
[2025-05-10T07:44:47.409Z] [INFO] 🔄 Registering queue processors...
[2025-05-10T07:44:47.410Z] [INFO] ✅ Queue processors registered
[2025-05-10T07:44:47.422Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:44:47.423Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:44:47.437Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:44:47.437Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:44:47.437Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:44:47.437Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:44:47.437Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:44:47.439Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:44:47.439Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:44:47.423Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:44:47.423Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:44:47.423Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:44:47.423Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:44:47.434Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:44:47.435Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:44:47.424Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:44:47.424Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:44:47.424Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:44:47.426Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:44:47.430Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:44:47.431Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:44:47.476Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:44:47.476Z] [INFO] Scheduling health checks every 60 seconds
[2025-05-10T07:44:47.476Z] [INFO] 🔄 Running job recovery to ensure no jobs are missed...
[2025-05-10T07:44:47.477Z] [INFO] 🔄 Starting queue job recovery from database state...
[2025-05-10T07:44:47.478Z] [INFO] 🔄 Recovering contribution cycle jobs...
[2025-05-10T07:44:47.480Z] [INFO] 🔄 Recovering failed payment jobs...
[2025-05-10T07:44:47.481Z] [INFO] 🔄 Recovering group status jobs...
[2025-05-10T07:44:47.840Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:44:47.840Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:44:47.846Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:44:47.857Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:44:47.877Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:44:47.898Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:44:47.902Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:44:47.917Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:44:47.995Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:44:48.001Z] [INFO] Found 0 active groups with pending cycles for recovery
[2025-05-10T07:44:48.003Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:44:48.012Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:44:48.013Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:44:48.017Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:44:48.023Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:44:48.026Z] [INFO] Found 0 failed payments eligible for retry
[2025-05-10T07:44:48.026Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:44:48.026Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:44:48.026Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:44:48.027Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:44:48.036Z] [INFO] Found 0 paused groups for recovery
[2025-05-10T07:44:48.037Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:44:48.037Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:44:48.049Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:44:48.048Z] [INFO] ✅ Recovered 0 payment retry jobs
[2025-05-10T07:44:48.049Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:44:48.049Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:44:48.050Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:44:48.056Z] [INFO] ✅ Recovered 0 contribution cycle jobs
[2025-05-10T07:44:48.057Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:44:48.057Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:44:48.058Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:44:48.059Z] [INFO] ✅ Recovered 0 group status jobs
[2025-05-10T07:44:48.060Z] [INFO] ✅ Queue recovery complete: 0 total jobs recovered
[2025-05-10T07:44:48.060Z] [INFO] ✅ Recovery complete: [object Object]
[2025-05-10T07:44:48.061Z] [INFO] 🔄 Scheduling next cycles after recovery...
[2025-05-10T07:44:48.076Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:44:48.077Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:44:48.077Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:44:48.077Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:44:48.077Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:44:48.078Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:44:48.080Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:44:48.080Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:44:48.100Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:44:48.100Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:44:48.100Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:44:48.100Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:44:48.101Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:44:48.101Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:44:48.103Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:44:48.103Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:44:48.109Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:44:48.109Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:44:48.109Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:44:48.109Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:44:48.109Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:44:48.109Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:44:48.110Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:44:48.110Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:44:48.110Z] [INFO] Found 0 active groups for next cycle scheduling
[2025-05-10T07:44:48.111Z] [INFO] ✅ Scheduled next cycles for 0 groups after recovery
[2025-05-10T07:44:48.111Z] [INFO] Environment Status: [object Object]
[2025-05-10T07:44:48.111Z] [INFO] ✅ Queue worker is fully operational
[2025-05-10T07:44:48.111Z] [INFO] ✅ Queue worker initialization complete!
[2025-05-10T07:44:48.111Z] [INFO] 📅 Scheduling regular recovery checks (every 15 minutes)
[2025-05-10T07:44:48.112Z] [INFO] 🏁 Queue worker is now running and processing jobs
[2025-05-10T07:44:48.112Z] [INFO] 📝 Logs are being written to: /app/logs/queue.log
[2025-05-10T07:45:47.574Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:45:47.638Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:45:47.660Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:45:47.718Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:46:47.502Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:46:47.518Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:46:47.550Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:46:47.562Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:47:02.824Z] [INFO] [contribution-cycles] Job contribution-cmahne9400003rczuj9f1fclj-1746863192499-0 waiting
[2025-05-10T07:47:07.790Z] [INFO] 🏁 Job started processing: direct-contribution-cmahne9400003rczuj9f1fclj-1746863192894 (start-contribution) for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:07.792Z] [INFO] Processing contribution for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:07.801Z] [INFO] 
=== processContributionCycle started for group=cmahne9400003rczuj9f1fclj ===
[2025-05-10T07:47:07.810Z] [INFO] [contribution-cycles] Job direct-contribution-cmahne9400003rczuj9f1fclj-1746863192894 active
[2025-05-10T07:47:08.024Z] [INFO] 🔍 DEBUG: Member payment status BEFORE transaction:
[2025-05-10T07:47:08.024Z] [INFO] Member MoOn CaKe (cmahne95e0005rczubg4zz5td): hasBeenPaid=true
[2025-05-10T07:47:08.024Z] [INFO] Member SUHAYB WALTON (cmahnisrr000brczukc10gny4): hasBeenPaid=false
[2025-05-10T07:47:08.249Z] [INFO] Sending contribution reminders for 2 members
[2025-05-10T07:47:09.111Z] [ERROR] Failed to send contribution reminder: Error: socket hang up
[2025-05-10T07:47:09.111Z] [ERROR] Email error for suhaybw1@gmail.com: socket hang up
[2025-05-10T07:47:09.219Z] [ERROR] Failed to send contribution reminder: Error: socket hang up
[2025-05-10T07:47:09.219Z] [ERROR] Email error for support@hivepay.com.au: socket hang up
[2025-05-10T07:47:09.220Z] [INFO] Email sending process completed - continuing with contribution cycle
[2025-05-10T07:47:09.222Z] [INFO] Processing cycle 2: [object Object]
[2025-05-10T07:47:10.510Z] [INFO] PaymentIntent created for user kp_588d4df4181549e791abd1eef41be8de: pi_3RN87lD0Tog7VW7O1uiuCNZn
[2025-05-10T07:47:10.525Z] [INFO] Skipping payee: kp_5813a23edaed4d4996418141e208cf59
[2025-05-10T07:47:10.703Z] [INFO] 🔍 CRITICAL: Marking member cmahnisrr000brczukc10gny4 (SUHAYB WALTON) as paid
[2025-05-10T07:47:10.844Z] [INFO] 🔍 Member cmahnisrr000brczukc10gny4 status: hasBeenPaid=true
[2025-05-10T07:47:10.844Z] [INFO] ✅ Successfully marked member cmahnisrr000brczukc10gny4 as paid
[2025-05-10T07:47:10.921Z] [INFO] 🔍 DEBUG: Member payment status AFTER transaction:
[2025-05-10T07:47:10.923Z] [INFO] Member MoOn CaKe (cmahne95e0005rczubg4zz5td): hasBeenPaid=true
[2025-05-10T07:47:10.923Z] [INFO] Member SUHAYB WALTON (cmahnisrr000brczukc10gny4): hasBeenPaid=true
[2025-05-10T07:47:10.924Z] [INFO] 🔍 DEBUG: Actual unpaid members count: 0
[2025-05-10T07:47:10.924Z] [INFO] === processContributionCycle success for group=cmahne9400003rczuj9f1fclj ===

[2025-05-10T07:47:11.021Z] [INFO] 🔍 Group state after transaction: cyclesCompleted=false, cycleStarted=true, status=Active, currentMemberCycle=0, totalCycles=0
[2025-05-10T07:47:11.021Z] [INFO] 🔍 Members remaining to be paid in this cycle: 0
[2025-05-10T07:47:11.021Z] [INFO] 🔍 All members paid but cycle not marked as completed. Running finalization...
[2025-05-10T07:47:11.248Z] [INFO] DEBUG: futureCyclesJson raw data: ["2025-05-09T00:00:00.000Z","2025-05-16T00:00:00.000Z"]
[2025-05-10T07:47:11.249Z] [INFO] Parsing futureCyclesJson of type: object
[2025-05-10T07:47:11.250Z] [INFO] Input is an array with 2 elements
[2025-05-10T07:47:11.250Z] [INFO] Found futureCyclesJson with 2 dates. Current index: 0, Next index: 1
[2025-05-10T07:47:11.250Z] [INFO] First few cycle dates: 2025-05-09T00:00:00.000Z, 2025-05-16T00:00:00.000Z
[2025-05-10T07:47:11.250Z] [INFO] 📅 Advancing to next cycle date: 2025-05-16T00:00:00.000Z
[2025-05-10T07:47:11.250Z] [INFO] Current member cycle: 0/2 - Full ROSCA cycle completed: false
[2025-05-10T07:47:11.250Z] [INFO] Advancing to next member, cycle 1
[2025-05-10T07:47:11.250Z] [INFO] Next cycle scheduled for 2025-05-16T00:00:00.000Z
[2025-05-10T07:47:11.250Z] [INFO] Updating group with data: {"totalGroupCyclesCompleted":1,"cycleStarted":false,"currentMemberCycleNumber":1,"nextCycleDate":"2025-05-16T00:00:00.000Z","cyclesCompleted":false}
[2025-05-10T07:47:11.414Z] [INFO] 🔄 Reset payment status for all members for the next cycle
[2025-05-10T07:47:11.414Z] [INFO] Cycle 0 completed for group cmahne9400003rczuj9f1fclj.
[2025-05-10T07:47:11.414Z] [INFO] Next cycle scheduled for: 2025-05-16T00:00:00.000Z
[2025-05-10T07:47:11.437Z] [INFO] ✅ Scheduling next cycle for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.439Z] [INFO] 🔍 DEBUG: scheduleNextCycle called for group cmahne9400003rczuj9f1fclj (attempt: 0)
[2025-05-10T07:47:11.439Z] [INFO] 🔁 Attempting to schedule next cycle for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.531Z] [INFO] 🔍 DEBUG: Group state in scheduleNextCycle: [object Object]
[2025-05-10T07:47:11.532Z] [INFO] ✅ Validations passed, proceeding to schedule group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.533Z] [INFO] 🔍 DEBUG: scheduleContributionCycle called for group cmahne9400003rczuj9f1fclj (attempt: 0)
[2025-05-10T07:47:11.533Z] [INFO] 🔥 CRITICAL PATH: Scheduling contribution cycle for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.533Z] [INFO] 🔄 Starting schedule process for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.629Z] [INFO] 🔍 DEBUG: Group state from database: [object Object]
[2025-05-10T07:47:11.629Z] [INFO] 🔍 DEBUG: Added group cmahne9400003rczuj9f1fclj to scheduledGroups set (size: 1)
[2025-05-10T07:47:11.631Z] [INFO] 🔍 DEBUG: Calculating next run for group cmahne9400003rczuj9f1fclj with nextCycleDate: Fri May 16 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:47:11.633Z] [INFO] 🔍 DEBUG: calculateAndSetNextRun for group cmahne9400003rczuj9f1fclj with currentDate: Fri May 16 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:47:11.633Z] [INFO] 🔍 DEBUG: Cycle already started: false
[2025-05-10T07:47:11.633Z] [INFO] 🔍 DEBUG: Initial nextRun: Fri May 16 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:47:11.634Z] [INFO] 🔍 DEBUG: Current time: Sat May 10 2025 07:47:11 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:47:11.634Z] [INFO] 🔍 DEBUG: Is nextRun in the past? false
[2025-05-10T07:47:11.634Z] [INFO] 🔍 DEBUG: Final nextRun: Fri May 16 2025 00:00:00 GMT+0000 (Coordinated Universal Time)
[2025-05-10T07:47:11.634Z] [INFO] 🔍 DEBUG: Initial delay: 490368366
[2025-05-10T07:47:11.634Z] [INFO] 🔍 DEBUG: Safe delay: 490368366
[2025-05-10T07:47:11.664Z] [INFO] ⏰ Scheduling next run for group cmahne9400003rczuj9f1fclj: [object Object]
[2025-05-10T07:47:11.712Z] [INFO] ✅ Logged scheduled job contribution-cmahne9400003rczuj9f1fclj-1746863231629-0 to database for recovery
[2025-05-10T07:47:11.715Z] [INFO] 🔍 DEBUG: addQueueJob called for group cmahne9400003rczuj9f1fclj with options: [object Object]
[2025-05-10T07:47:11.715Z] [INFO] 🔥 CRITICAL PATH: Queue job attempt for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.715Z] [INFO] 🔍 Redis URL in use: redis://****@diverse-stingray-16842.upstash.io:6379
[2025-05-10T07:47:11.716Z] [INFO] 🔍 DEBUG: Contribution queue ready check: [object Object]
[2025-05-10T07:47:11.716Z] [INFO] 🔍 DEBUG: Getting existing jobs for group cmahne9400003rczuj9f1fclj
[2025-05-10T07:47:11.768Z] [INFO] 🔍 DEBUG: Found 1 existing jobs in queue
[2025-05-10T07:47:11.768Z] [INFO] ⚠️ Removing existing job for group cmahne9400003rczuj9f1fclj: contribution-cmahne9400003rczuj9f1fclj-1746863192499-0
[2025-05-10T07:47:11.795Z] [INFO] ✅ Successfully removed job contribution-cmahne9400003rczuj9f1fclj-1746863192499-0
[2025-05-10T07:47:11.795Z] [INFO] 🚀 QUEUING: Adding job for group cmahne9400003rczuj9f1fclj with options: [object Object]
[2025-05-10T07:47:11.796Z] [INFO] Queue instance details: [object Object]
[2025-05-10T07:47:11.869Z] [INFO] ✅ Successfully queued job: [object Object]
[2025-05-10T07:47:11.871Z] [INFO] 🔍 DEBUG: Verifying job was added to queue
[2025-05-10T07:47:11.951Z] [INFO] 📊 Queue status after adding job: 1 total jobs
[2025-05-10T07:47:11.952Z] [INFO] ✓ Confirmed job contribution-start-contribution-cmahne9400003rczuj9f1fclj-1746863231797 is in queue with delay 490368366ms
[2025-05-10T07:47:11.998Z] [INFO] [contribution-cycles] Job direct-contribution-cmahne9400003rczuj9f1fclj-1746863192894 completed
[2025-05-10T07:47:47.526Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:47:47.530Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:47:47.549Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:47:47.582Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:48:47.515Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:48:47.529Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:48:47.546Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:48:47.549Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:49:47.512Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:49:47.548Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:49:47.562Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:49:47.564Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:49:48.119Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:49:48.121Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:49:48.148Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:49:48.150Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:49:48.151Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:49:48.151Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:49:48.152Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:49:48.153Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:50:47.532Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:50:47.548Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:50:47.559Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:50:47.561Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:51:47.551Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:51:47.561Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:51:47.570Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:51:47.572Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:52:47.579Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:52:47.587Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:52:47.592Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:52:47.598Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:53:47.566Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:53:47.584Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:53:47.597Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:53:47.605Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:54:47.566Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:54:47.584Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:54:47.592Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:54:47.602Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:54:48.119Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:54:48.120Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:54:48.146Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:54:48.147Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:54:48.149Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:54:48.149Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:54:48.158Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:54:48.158Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:55:47.579Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:55:47.601Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:55:47.610Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:55:47.624Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:56:47.585Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:56:47.620Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:56:47.620Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:56:47.629Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:57:48.331Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:57:48.335Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:57:48.338Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:57:48.348Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:58:47.620Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:58:47.621Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:58:47.628Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:58:47.643Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:59:47.617Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:59:47.624Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:59:47.629Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:59:47.632Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T07:59:48.090Z] [INFO] 🔍 Running scheduled recovery check for stuck jobs
[2025-05-10T07:59:48.093Z] [INFO] 🔍 Checking for stuck jobs in all queues...
[2025-05-10T07:59:48.111Z] [INFO] 🔍 Running scheduled recovery check for stuck jobs
[2025-05-10T07:59:48.114Z] [INFO] 🔍 Checking for stuck jobs in all queues...
[2025-05-10T07:59:48.120Z] [INFO] 🔍 Running scheduled recovery check for stuck jobs
[2025-05-10T07:59:48.120Z] [INFO] 🔍 Running scheduled recovery check for stuck jobs
[2025-05-10T07:59:48.124Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:59:48.122Z] [INFO] 🔍 Checking for stuck jobs in all queues...
[2025-05-10T07:59:48.124Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:59:48.123Z] [INFO] 🔍 Checking for stuck jobs in all queues...
[2025-05-10T07:59:48.142Z] [INFO] Found 1 total jobs across all queues
[2025-05-10T07:59:48.143Z] [INFO] Found 0 potentially stuck jobs
[2025-05-10T07:59:48.143Z] [INFO] ✅ Recovery check complete: 0/0 stuck jobs reprocessed
[2025-05-10T07:59:48.143Z] [INFO] ✅ Recovery check completed: [object Object]
[2025-05-10T07:59:48.153Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:59:48.153Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:59:48.153Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:59:48.153Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:59:48.161Z] [INFO] 📊 Queue status: [object Object]
[2025-05-10T07:59:48.161Z] [INFO] 📈 Metrics Summary: [object Object]
[2025-05-10T07:59:48.163Z] [INFO] Found 1 total jobs across all queues
[2025-05-10T07:59:48.163Z] [INFO] Found 0 potentially stuck jobs
[2025-05-10T07:59:48.163Z] [INFO] ✅ Recovery check complete: 0/0 stuck jobs reprocessed
[2025-05-10T07:59:48.164Z] [INFO] ✅ Recovery check completed: [object Object]
[2025-05-10T07:59:48.169Z] [INFO] Found 1 total jobs across all queues
[2025-05-10T07:59:48.169Z] [INFO] Found 0 potentially stuck jobs
[2025-05-10T07:59:48.169Z] [INFO] ✅ Recovery check complete: 0/0 stuck jobs reprocessed
[2025-05-10T07:59:48.169Z] [INFO] ✅ Recovery check completed: [object Object]
[2025-05-10T07:59:48.170Z] [INFO] Found 1 total jobs across all queues
[2025-05-10T07:59:48.170Z] [INFO] Found 0 potentially stuck jobs
[2025-05-10T07:59:48.170Z] [INFO] ✅ Recovery check complete: 0/0 stuck jobs reprocessed
[2025-05-10T07:59:48.170Z] [INFO] ✅ Recovery check completed: [object Object]
[2025-05-10T08:00:47.610Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:00:47.620Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:00:47.627Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:00:47.637Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:01:47.856Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:01:47.856Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:01:47.878Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:01:47.880Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:02:47.607Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:02:47.621Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:02:47.621Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:02:47.626Z] [INFO] 🔍 Queue Health Check: [object Object]
[2025-05-10T08:02:56.775Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T08:02:56.775Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T08:02:56.781Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T08:02:56.804Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T08:02:56.804Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T08:02:56.793Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T08:02:57.598Z] [INFO] Redis bclient connected
[2025-05-10T08:02:57.599Z] [INFO] Redis bclient ready
[2025-05-10T08:02:57.601Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T08:02:57.618Z] [INFO] Redis bclient connected
[2025-05-10T08:02:57.620Z] [INFO] Redis bclient connected
[2025-05-10T08:02:57.620Z] [INFO] Redis bclient ready
[2025-05-10T08:02:57.624Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T08:02:57.618Z] [INFO] Redis bclient ready
[2025-05-10T08:02:57.626Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T08:02:57.644Z] [INFO] ✅ Redis connections closed
[2025-05-10T08:02:57.648Z] [INFO] ✅ Redis connections closed
[2025-05-10T08:02:57.649Z] [INFO] ✅ Redis connections closed
[2025-05-10T08:02:57.792Z] [INFO] 🛑 SIGTERM received, shutting down gracefully...
[2025-05-10T08:02:57.800Z] [INFO] 🛑 Initiating graceful shutdown of queues...
[2025-05-10T08:02:58.566Z] [INFO] Redis bclient connected
[2025-05-10T08:02:58.566Z] [INFO] Redis bclient ready
[2025-05-10T08:02:58.567Z] [INFO] ✅ All queues gracefully closed
[2025-05-10T08:02:58.594Z] [INFO] ✅ Redis connections closed
